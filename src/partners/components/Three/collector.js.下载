"use strict";(()=>{var ar=Object.defineProperty;var Oe=Object.getOwnPropertySymbols;var or=Object.prototype.hasOwnProperty,sr=Object.prototype.propertyIsEnumerable;var Ce=(e,r,t)=>r in e?ar(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ie=(e,r)=>{for(var t in r||(r={}))or.call(r,t)&&Ce(e,t,r[t]);if(Oe)for(var t of Oe(r))sr.call(r,t)&&Ce(e,t,r[t]);return e};var A=(e,r,t)=>new Promise((n,a)=>{var i=c=>{try{u(t.next(c))}catch(_){a(_)}},o=c=>{try{u(t.throw(c))}catch(_){a(_)}},u=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);u((t=t.apply(e,r)).next())});function ae(e){return A(this,null,function*(){return new Promise(r=>setTimeout(r,e))})}function oe(e){return JSON.stringify(e,Object.getOwnPropertyNames(e),2)}function J(e){return Math.max(-2147483648,Math.min(2147483647,e))}var fr=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers"],Re=["EXT_color_buffer_half_float","EXT_float_blend","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBKIT_WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw","EXT_clip_control","EXT_depth_clamp","WEBGL_polygon_mode","EXT_texture_mirror_clamp_to_edge"],ur=["EXT_color_buffer_float","EXT_disjoint_timer_query_webgl2","EXT_texture_norm16","OES_draw_buffers_indexed","OVR_multiview2","EXT_polygon_offset_clamp","WEBGL_blend_equation_advanced_coherent","WEBGL_clip_cull_distance","WEBGL_draw_instanced_base_vertex_base_instance","WEBGL_multi_draw_instanced_base_vertex_base_instance","WEBGL_provoking_vertex","WEBGL_shader_pixel_local_storage","EXT_conservative_depth","NV_shader_noperspective_interpolation","OES_sample_variables","OES_shader_multisample_interpolation","EXT_render_snorm","WEBGL_render_shared_exponent","WEBGL_stencil_texturing","EXT_blend_func_extended"];var lr=[...Re,...fr].sort((e,r)=>e.localeCompare(r));function Ge(){return lr}var cr=[...Re,...ur].sort((e,r)=>e.localeCompare(r));function be(){return cr}function se(e){return[...new Set(e).values()]}var We=["MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","MAX_TEXTURE_MAX_ANISOTROPY_EXT","MAX_VIEWPORT_WIDTH","MAX_VIEWPORT_HEIGHT","MAX_DUAL_SOURCE_DRAW_BUFFERS_EXT"],hr=["MAX_COLOR_ATTACHMENTS_WEBGL","MAX_DRAW_BUFFERS_WEBGL"],pr=["MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_CLIENT_WAIT_TIMEOUT_WEBGL","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_PROGRAM_TEXEL_OFFSET","MAX_SAMPLES","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET","MIN_FRAGMENT_INTERPOLATION_OFFSET_OES","MAX_FRAGMENT_INTERPOLATION_OFFSET_OES","FRAGMENT_INTERPOLATION_OFFSET_BITS_OES","MAX_PIXEL_LOCAL_STORAGE_PLANES_WEBGL","MAX_COLOR_ATTACHMENTS_WITH_ACTIVE_PIXEL_LOCAL_STORAGE_WEBGL","MAX_COMBINED_DRAW_BUFFERS_AND_PIXEL_LOCAL_STORAGE_PLANES_WEBGL","MAX_VIEWS_OVR","MAX_CLIP_DISTANCES_WEBGL","MAX_CULL_DISTANCES_WEBGL","MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL"],fe={EXT_texture_filter_anisotropic:["MAX_TEXTURE_MAX_ANISOTROPY_EXT"],WEBGL_draw_buffers:["MAX_DRAW_BUFFERS_WEBGL","MAX_COLOR_ATTACHMENTS_WEBGL"],OVR_multiview2:["MAX_VIEWS_OVR"],WEBGL_clip_cull_distance:["MAX_CLIP_DISTANCES_WEBGL","MAX_CULL_DISTANCES_WEBGL","MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL"],WEBGL_shader_pixel_local_storage:["MAX_PIXEL_LOCAL_STORAGE_PLANES_WEBGL","MAX_COLOR_ATTACHMENTS_WITH_ACTIVE_PIXEL_LOCAL_STORAGE_WEBGL","MAX_COMBINED_DRAW_BUFFERS_AND_PIXEL_LOCAL_STORAGE_PLANES_WEBGL"],OES_shader_multisample_interpolation:["MIN_FRAGMENT_INTERPOLATION_OFFSET_OES","MAX_FRAGMENT_INTERPOLATION_OFFSET_OES","FRAGMENT_INTERPOLATION_OFFSET_BITS_OES"],EXT_blend_func_extended:["MAX_DUAL_SOURCE_DRAW_BUFFERS_EXT"]};function Ie(){return se([...We,...hr]).sort((e,r)=>e.localeCompare(r))}function Ne(){return se([...pr,...We]).sort((e,r)=>e.localeCompare(r))}var Pe=["VERTEX_SHADER","FRAGMENT_SHADER"],Xe=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT"],Be=["LOW_INT","MEDIUM_INT","HIGH_INT"];var Ue=["bgra8unorm-storage","chromium-experimental-dp4a","chromium-experimental-read-write-storage-texture","depth-clamping","depth-clip-control","depth24unorm-stencil8","depth32float-stencil8","float32-filterable","indirect-first-instance","multi-planar-formats","pipeline-statistics-query","rg11b10ufloat-renderable","shader-f16","texture-compression-bc","texture-compression-etc2","texture-compression-astc","timestamp-query","timestamp-query-inside-passes"].sort((e,r)=>e.localeCompare(r));var Fe=["maxTextureDimension1D","maxTextureDimension2D","maxTextureDimension3D","maxTextureArrayLayers","maxBindGroups","maxBindGroupsPlusVertexBuffers","maxBindingsPerBindGroup","maxDynamicUniformBuffersPerPipelineLayout","maxDynamicStorageBuffersPerPipelineLayout","maxSampledTexturesPerShaderStage","maxSamplersPerShaderStage","maxStorageBuffersPerShaderStage","maxStorageTexturesPerShaderStage","maxUniformBuffersPerShaderStage","maxFragmentCombinedOutputResources","maxUniformBufferBindingSize","maxStorageBufferBindingSize","minUniformBufferOffsetAlignment","minStorageBufferOffsetAlignment","maxVertexBuffers","maxBufferSize","maxVertexAttributes","maxVertexBufferArrayStride","maxInterStageShaderComponents","maxInterStageShaderVariables","maxColorAttachments","maxColorAttachmentBytesPerSample","maxComputeWorkgroupStorageSize","maxComputeInvocationsPerWorkgroup","maxComputeWorkgroupSizeX","maxComputeWorkgroupSizeY","maxComputeWorkgroupSizeZ","maxComputeWorkgroupsPerDimension"].sort((e,r)=>e.localeCompare(r));var De;(function(e){e[e.WebGL=0]="WebGL",e[e.WebGL2=1]="WebGL2",e[e.WebGPU=2]="WebGPU",e[e.WebXR=3]="WebXR"})(De||(De={}));var W=Uint8Array,S=Uint16Array,ve=Int32Array,ge=new W([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_e=new W([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ze=new W([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ze=function(e,r){for(var t=new S(31),n=0;n<31;++n)t[n]=r+=1<<e[n-1];for(var a=new ve(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)a[i]=i-t[n]<<5|n;return{b:t,r:a}},qe=Ze(ge,2),vr=qe.b,le=qe.r;vr[28]=258,le[258]=28;var je=Ze(_e,0),at=je.b,Ve=je.r,ce=new S(32768);for(v=0;v<32768;++v)F=(v&43690)>>1|(v&21845)<<1,F=(F&52428)>>2|(F&13107)<<2,F=(F&61680)>>4|(F&3855)<<4,ce[v]=((F&65280)>>8|(F&255)<<8)>>1;var F,v,$=function(e,r,t){for(var n=e.length,a=0,i=new S(r);a<n;++a)e[a]&&++i[e[a]-1];var o=new S(r);for(a=1;a<r;++a)o[a]=o[a-1]+i[a-1]<<1;var u;if(t){u=new S(1<<r);var c=15-r;for(a=0;a<n;++a)if(e[a])for(var _=a<<4|e[a],s=r-e[a],f=o[e[a]-1]++<<s,p=f|(1<<s)-1;f<=p;++f)u[ce[f]>>c]=_}else for(u=new S(n),a=0;a<n;++a)e[a]&&(u[a]=ce[o[e[a]-1]++]>>15-e[a]);return u},V=new W(288);for(v=0;v<144;++v)V[v]=8;var v;for(v=144;v<256;++v)V[v]=9;var v;for(v=256;v<280;++v)V[v]=7;var v;for(v=280;v<288;++v)V[v]=8;var v,Q=new W(32);for(v=0;v<32;++v)Q[v]=5;var v,gr=$(V,9,0);var _r=$(Q,5,0);var Ke=function(e){return(e+7)/8|0},mr=function(e,r,t){return(r==null||r<0)&&(r=0),(t==null||t>e.length)&&(t=e.length),new W(e.subarray(r,t))};var D=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8},K=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8,e[n+2]|=t>>16},ue=function(e,r){for(var t=[],n=0;n<e.length;++n)e[n]&&t.push({s:n,f:e[n]});var a=t.length,i=t.slice();if(!a)return{t:$e,l:0};if(a==1){var o=new W(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(O,C){return O.f-C.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],_=0,s=1,f=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};s!=a-1;)u=t[t[_].f<t[f].f?_++:f++],c=t[_!=s&&t[_].f<t[f].f?_++:f++],t[s++]={s:-1,f:u.f+c.f,l:u,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new S(p+1),m=he(t[s-1],h,0);if(m>r){var n=0,E=0,I=m-r,B=1<<I;for(i.sort(function(C,w){return h[w.s]-h[C.s]||C.f-w.f});n<a;++n){var M=i[n].s;if(h[M]>r)E+=B-(1<<m-h[M]),h[M]=r;else break}for(E>>=I;E>0;){var U=i[n].s;h[U]<r?E-=1<<r-h[U]++-1:++n}for(;n>=0&&E;--n){var L=i[n].s;h[L]==r&&(--h[L],++E)}m=r}return{t:new W(h),l:m}},he=function(e,r,t){return e.s==-1?Math.max(he(e.l,r,t+1),he(e.r,r,t+1)):r[e.s]=t},He=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new S(++r),n=0,a=e[0],i=1,o=function(c){t[n++]=c},u=1;u<=r;++u)if(e[u]==a&&u!=r)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[u]}return{c:t.subarray(0,n),n:r}},Y=function(e,r){for(var t=0,n=0;n<r.length;++n)t+=e[n]*r[n];return t},Ye=function(e,r,t){var n=t.length,a=Ke(r+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=t[i];return(a+4+n)*8},ke=function(e,r,t,n,a,i,o,u,c,_,s){D(r,s++,t),++a[256];for(var f=ue(a,15),p=f.t,h=f.l,m=ue(i,15),E=m.t,I=m.l,B=He(p),M=B.c,U=B.n,L=He(E),O=L.c,C=L.n,w=new S(19),g=0;g<M.length;++g)++w[M[g]&31];for(var g=0;g<O.length;++g)++w[O[g]&31];for(var l=ue(w,7),y=l.t,H=l.l,T=19;T>4&&!y[ze[T-1]];--T);var k=_+5<<3,R=Y(a,V)+Y(i,Q)+o,G=Y(a,p)+Y(i,E)+o+14+3*T+Y(w,y)+2*w[16]+3*w[17]+7*w[18];if(c>=0&&k<=R&&k<=G)return Ye(r,s,e.subarray(c,c+_));var N,x,b,z;if(D(r,s,1+(G<R)),s+=2,G<R){N=$(p,h,0),x=p,b=$(E,I,0),z=E;var ee=$(y,H,0);D(r,s,U-257),D(r,s+5,C-1),D(r,s+10,T-4),s+=14;for(var g=0;g<T;++g)D(r,s+3*g,y[ze[g]]);s+=3*T;for(var P=[M,O],j=0;j<2;++j)for(var Z=P[j],g=0;g<Z.length;++g){var X=Z[g]&31;D(r,s,ee[X]),s+=y[X],X>15&&(D(r,s,Z[g]>>5&127),s+=Z[g]>>12)}}else N=gr,x=V,b=_r,z=Q;for(var g=0;g<u;++g){var d=n[g];if(d>255){var X=d>>18&31;K(r,s,N[X+257]),s+=x[X+257],X>7&&(D(r,s,d>>23&31),s+=ge[X]);var q=d&31;K(r,s,b[q]),s+=z[q],q>3&&(K(r,s,d>>5&8191),s+=_e[q])}else K(r,s,N[d]),s+=x[d]}return K(r,s,N[256]),s+x[256]},Er=new ve([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$e=new W(0),xr=function(e,r,t,n,a,i){var o=i.z||e.length,u=new W(n+o+5*(1+Math.ceil(o/7e3))+a),c=u.subarray(n,u.length-a),_=i.l,s=(i.r||0)&7;if(r){s&&(c[0]=i.r>>3);for(var f=Er[r-1],p=f>>13,h=f&8191,m=(1<<t)-1,E=i.p||new S(32768),I=i.h||new S(m+1),B=Math.ceil(t/3),M=2*B,U=function(ne){return(e[ne]^e[ne+1]<<B^e[ne+2]<<M)&m},L=new ve(25e3),O=new S(288),C=new S(32),w=0,g=0,l=i.i||0,y=0,H=i.w||0,T=0;l+2<o;++l){var k=U(l),R=l&32767,G=I[k];if(E[R]=G,I[k]=R,H<=l){var N=o-l;if((w>7e3||y>24576)&&(N>423||!_)){s=ke(e,c,0,L,O,C,g,y,T,l-T,s),y=w=g=0,T=l;for(var x=0;x<286;++x)O[x]=0;for(var x=0;x<30;++x)C[x]=0}var b=2,z=0,ee=h,P=R-G&32767;if(N>2&&k==U(l-P))for(var j=Math.min(p,N)-1,Z=Math.min(32767,l),X=Math.min(258,N);P<=Z&&--ee&&R!=G;){if(e[l+b]==e[l+b-P]){for(var d=0;d<X&&e[l+d]==e[l+d-P];++d);if(d>b){if(b=d,z=P,d>j)break;for(var q=Math.min(P,d-2),Ae=0,x=0;x<q;++x){var re=l-P+x&32767,ir=E[re],Se=re-ir&32767;Se>Ae&&(Ae=Se,G=re)}}}R=G,G=E[R],P+=R-G&32767}if(z){L[y++]=268435456|le[b]<<18|Ve[z];var Me=le[b]&31,Le=Ve[z]&31;g+=ge[Me]+_e[Le],++O[257+Me],++C[Le],H=l+b,++w}else L[y++]=e[l],++O[e[l]]}}for(l=Math.max(l,H);l<o;++l)L[y++]=e[l],++O[e[l]];s=ke(e,c,_,L,O,C,g,y,T,l-T,s),_||(i.r=s&7|c[s/8|0]<<3,s-=7,i.h=I,i.p=E,i.i=l,i.w=H)}else{for(var l=i.w||0;l<o+_;l+=65535){var te=l+65535;te>=o&&(c[s/8|0]=_,te=o),s=Ye(c,s+1,e.subarray(l,te))}i.i=o}return mr(u,0,n+Ke(s)+a)},dr=function(){for(var e=new Int32Array(256),r=0;r<256;++r){for(var t=r,n=9;--n;)t=(t&1&&-306674912)^t>>>1;e[r]=t}return e}(),wr=function(){var e=-1;return{p:function(r){for(var t=e,n=0;n<r.length;++n)t=dr[t&255^r[n]]^t>>>8;e=t},d:function(){return~e}}};var yr=function(e,r,t,n,a){if(!a&&(a={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new W(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return xr(e,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,n,a)};var pe=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},Tr=function(e,r){var t=r.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=r.level<2?4:r.level==9?2:0,e[9]=3,r.mtime!=0&&pe(e,4,Math.floor(new Date(r.mtime||Date.now())/1e3)),t){e[3]=8;for(var n=0;n<=t.length;++n)e[n+10]=t.charCodeAt(n)}};var Ar=function(e){return 10+(e.filename?e.filename.length+1:0)};function Je(e,r){r||(r={});var t=wr(),n=e.length;t.p(e);var a=yr(e,r,Ar(r),8),i=a.length;return Tr(a,r),pe(a,i-8,t.d()),pe(a,i-4,n),a}var Sr=typeof TextDecoder!="undefined"&&new TextDecoder,Mr=0;try{Sr.decode($e,{stream:!0}),Mr=1}catch(e){}function me(e,r){let t=e.getContext(r,{failIfMajorPerformanceCaveat:!0});if(t!==null)return{gl:t,majorPerformanceCaveat:!1};let n=e.getContext(r);return{gl:n,majorPerformanceCaveat:n!==null?!0:null}}function Ee(e){return"OffscreenCanvas"in window?new OffscreenCanvas(1,1).getContext(e)!==null:!1}function xe(e){let r=e;if("unpackColorSpace"in r&&"drawingBufferColorSpace"in r){let a=function(i,o){r[i]=o,n[i][o]=r[i]===o};var t=a;let n={unpackColorSpace:{srgb:!1,"display-p3":!1},drawingBufferColorSpace:{srgb:!1,"display-p3":!1}};return a("unpackColorSpace","srgb"),a("unpackColorSpace","display-p3"),a("drawingBufferColorSpace","srgb"),a("drawingBufferColorSpace","display-p3"),n}return null}function de(e){let r=e.getExtension("WEBGL_debug_renderer_info");return r===null?null:{vendor:e.getParameter(r.UNMASKED_VENDOR_WEBGL),renderer:e.getParameter(r.UNMASKED_RENDERER_WEBGL)}}function we(e,r){let t={};for(let n of r)t[n]=e.getExtension(n)!==null;return t}function ye(e,r){let t=e,n={};for(let i of r){if(!(i in e))continue;let o=e.getParameter(t[i]);if(typeof o=="number")n[i]=e.getParameter(t[i]);else throw new Error(`Unhandled WebGL parameter: ${i} of type ${typeof o}`)}let a=e.getParameter(e.MAX_VIEWPORT_DIMS);n.MAX_VIEWPORT_WIDTH=a[0],n.MAX_VIEWPORT_HEIGHT=a[1];for(let i in fe){let o=e.getExtension(i);if(o!==null){let u=fe[i];for(let c of u)n[c]=J(e.getParameter(o[c]))}}return n}function Te(e){let r=e,t={};for(let n of Pe){let a={};for(let i of Xe){let o=e.getShaderPrecisionFormat(r[n],r[i]);o!==null&&(a[i]={precision:o.precision,rangeMin:o.rangeMin,rangeMax:o.rangeMax})}for(let i of Be){let o=e.getShaderPrecisionFormat(r[n],r[i]);o!==null&&(a[i]={rangeMin:o.rangeMax,rangeMax:o.rangeMin})}t[n]=a}return t}function Qe(){return typeof navigator!="undefined"&&"gpu"in navigator?navigator.gpu:null}function er(e){return A(this,null,function*(){return"requestAdapter"in e?yield e.requestAdapter():null})}function rr(e,r){let t=r.reduce((a,i)=>{var o;return a[i]=((o=e.features)==null?void 0:o.has(i))||!1,a},{}),n=e.features?[...e.features].filter(a=>r.indexOf(a)<0):[];return n.length>0&&(t.other=n.join(",")),t}function tr(e,r){var i;let t=e.limits,n=r.reduce((o,u)=>(u in t&&(o[u]=J(t[u])),o),{}),a=Object.keys(((i=e.limits)==null?void 0:i.constructor.prototype)||{}).filter(o=>r.indexOf(o)<0);return a.length>0&&(n.other=a.join(",")),n}function nr(e){return A(this,null,function*(){if(!("requestAdapterInfo"in e))return{};let r=yield e.requestAdapterInfo();return{vendor:r.vendor,device:r.device,architecture:r.architecture,description:r.description}})}(function(){let r={host:"https://web3dsurvey.com",samplePercentage:100,delay:2e3};function t(){return typeof web3DSurveyConfig=="object"?ie(ie({},r),web3DSurveyConfig):r}function n(f){return{collectionError:oe(f)}}function a(f,p){try{return f()}catch(h){return p}}function i(f){return A(this,null,function*(){try{return yield f()}catch(p){return n(p)}})}function o(){return A(this,null,function*(){let f,p=document.createElement("canvas"),{gl:h,majorPerformanceCaveat:m}=me(p,"webgl");return h!==null?f={supported:!0,majorPerformanceCaveat:m,OffscreenCanvas:"OffscreenCanvas"in window&&Ee("webgl"),extensions:we(h,Ge()),parameters:ye(h,Ie()),rendererInfo:de(h),shaderPrecision:Te(h),colorSpace:xe(h)}:f={supported:!1},p.remove(),f})}function u(){return A(this,null,function*(){let f,p=document.createElement("canvas"),{gl:h,majorPerformanceCaveat:m}=me(p,"webgl2");return h!==null?f={supported:!0,majorPerformanceCaveat:m,OffscreenCanvas:"OffscreenCanvas"in window&&Ee("webgl2"),extensions:we(h,be()),parameters:ye(h,Ne()),rendererInfo:de(h),shaderPrecision:Te(h),colorSpace:xe(h)}:f={supported:!1},p.remove(),f})}function c(){return A(this,null,function*(){let f=Qe();if(f===null)return{supported:!1};let p=yield er(f);return p===null?{supported:!0,adapter:!1}:{supported:!0,adapter:!0,isFallbackAdapter:p.isFallbackAdapter,features:rr(p,Ue),limits:tr(p,Fe),adapterInfo:yield nr(p)}})}function _(){return A(this,null,function*(){return{supported:"xr"in navigator}})}function s(){return A(this,null,function*(){let f=a(()=>window.location.origin,"error");return{locationOrigin:f,parentLocationOrigin:a(()=>window.parent!==null?window.parent.location.origin:null,"error"),documentReferer:a(()=>f.indexOf("web3dsurvey.com")>-1?document.referrer:null,"error"),hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:"deviceMemory"in navigator?navigator.deviceMemory:null,screenWidth:window.screen.width,screenHeight:window.screen.height,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,devicePixelRatio:window.devicePixelRatio,webdriver:"webdriver"in navigator?navigator.webdriver:null,ImageBitmap:"ImageBitmap"in window,OffscreenCanvas:"OffscreenCanvas"in window,WebAssembly:"WebAssembly"in window,Worker:"Worker"in window}})}document.addEventListener("DOMContentLoaded",()=>A(this,null,function*(){let f=t();if(Math.random()>f.samplePercentage/100)return;yield ae(f.delay);let p={webgl:yield i(o),webgl2:yield i(u),webgpu:yield i(c),webxr:yield i(_),device:yield i(s),version:22,timestamp:new Date().toISOString()},h=`${f.host}/api/stats`;try{let m=JSON.stringify(p),E=new TextEncoder().encode(m),I=Je(E,{level:9}),B=btoa(String.fromCharCode(...I)),M=new URLSearchParams;M.append("stats",B);let U=h+"?"+M.toString();if(!(yield fetch(U,{method:"GET"})).ok)throw new Error("Failed to send graphics statistics via GET")}catch(m){p.error=oe(m),(yield fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok||console.error("Failed to send graphics statistics via POST")}}))})();})();
